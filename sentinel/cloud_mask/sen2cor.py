
import os,subprocess
#
# args ='cd /opt/sen2cor/Sen2Cor-02.05.05-Linux64/bin/L2A_Process --resolution 20' \
#       ' /media/vladimir/500STORAGE/ETALON/SENTINEL/2018/S2A_MSIL1C_20180314T080711_N0206_R078_T38ULA_20180314T092948.SAFE'
# p = subprocess.Popen("sudo /opt/sen2cor/Sen2Cor-02.05.05-Linux64/bin/L2A_Process --resolution 20 /media/vladimir/500STORAGE/ETALON/SENTINEL/2018/S2A_MSIL1C_20180314T080711_N0206_R078_T38ULA_20180314T092948.SAFE")
#
# sudoPassword = 'z83z6frv'
# command = 'sudo cd /opt/sen2cor/Sen2Cor-02.05.05-Linux64/bin/L2A_Process --resolution 20 /media/vladimir/500STORAGE/ETALON/SENTINEL/2018/S2A_MSIL1C_20180314T080711_N0206_R078_T38ULB_20180314T092948.SAFE'
# subprocess.Popen(command)
# command = './L2A_Process --resolution 20 /media/vladimir/500STORAGE/ETALON/SENTINEL/2018/S2A_MSIL1C_20180314T080711_N0206_R078_T38ULB_20180314T092948.SAFE'

# subprocess.Popen(command , shell=True,stdout=subprocess.PIPE)
i=0
j=0
# path = "/media/vladimir/500STORAGE/ETALON/SENTINEL/2018/"
path = "/media/vladimir/500STORAGE/SENTINEL/downloads/"

dirs = os.listdir( path )
print (dirs)
# list = dirs[81:160] //when use big massiv
list = dirs
print (list)
# This would print all the files and directories
for file in list:
   i += 1
   if file.find('SAFE')>0:
        j+=1
        p = subprocess.Popen('cd /opt/sen2cor/Sen2Cor-02.05.05-Linux64', shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
        # p = subprocess.Popen('/opt/sen2cor/Sen2Cor-02.05.05-Linux64/bin/L2A_Process --resolution 20 /media/vladimir/500STORAGE/ETALON/SENTINEL/2018/'+file, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
        p = subprocess.Popen('/opt/sen2cor/Sen2Cor-02.05.05-Linux64/bin/L2A_Process --resolution 20 '+path+file, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)

        for line in p.stdout.readlines():
            print (line)
        retval = p.wait()
print ('all documents: ',i)
print ('safe: ',j)


# ['S2B_MSIL1C_20180809T081559_N0206_R121_T38ULB_20180809T103528.zip',
#  'S2B_MSIL1C_20180928T081709_N0206_R121_T38ULB_20180928T120535.SAFE',
#  'S2B_MSIL1C_20181015T080909_N0206_R078_T38ULA_20181015T102153.SAFE',
# 'S2B_MSIL1C_20180928T081709_N0206_R121_T38ULB_20180928T120535.zip',
#  '2018_08_01',
# 'S2B_MSIL1C_20180617T080609_N0206_R078_T38ULB_20180617T102342.zip',
# '2018_06_17', '2018_06_25',
# 'S2B_MSIL1C_20180826T080559_N0206_R078_T38ULB_20180826T103705.SAFE',
# 'S2B_MSIL1C_20180630T081559_N0206_R121_T38ULB_20180630T120832.zip',
#  'S2B_MSIL1C_20180826T080559_N0206_R078_T38ULA_20180826T103705.SAFE',
#  'S2B_MSIL1C_20180518T080609_N0206_R078_T38ULA_20180518T102949.zip',
# 'S2B_MSIL1C_20180908T081559_N0206_R121_T38ULB_20180908T122110.SAFE',
#  '2018_05_26',
# 'S2B_MSIL1C_20181008T081819_N0206_R121_T38ULB_20181008T120942.zip',
# '2018_09_05',
# 'S2B_MSIL1C_20180918T081559_N0206_R121_T38ULB_20180918T122120.zip',
# 'S2B_MSIL1C_20180710T081559_N0206_R121_T38ULA_20180710T103406.zip',
#  '2018_08_26', '2018_07_07',
# 'S2B_MSIL1C_20180607T080609_N0206_R078_T38ULA_20180607T102248.zip',
# 'S2A_MSIL1C_20180811T080611_N0206_R078_T38ULA_20180811T103645.SAFE',
#  'S2B_MSIL1C_20180809T081559_N0206_R121_T38ULA_20180809T103528.zip',
# 'S2B_MSIL1C_20180607T080609_N0206_R078_T38ULB_20180607T102248.zip',
#  'S2B_MSIL1C_20180826T080559_N0206_R078_T38ULA_20180826T103705.zip',
# 'S2B_MSIL1C_20180905T080559_N0206_R078_T38ULB_20180905T102531.SAFE',
#  'S2B_MSIL1C_20181008T081819_N0206_R121_T38ULB_20181008T120942.SAFE',
#  '2018_08_04',
# 'S2B_MSIL1C_20180518T080609_N0206_R078_T38ULA_20180518T102949.SAFE',
#  'S2B_MSIL1C_20180518T080609_N0206_R078_T38ULA_20180518T111754.SAFE',
#  'S2B_MSIL1C_20181015T080909_N0206_R078_T38ULB_20181015T102153.SAFE',
# 'S2B_MSIL1C_20180829T081959_N0206_R121_T38ULA_20180829T141051.SAFE',
# 'S2B_MSIL1C_20180421T081559_N0206_R121_T38ULB_20180421T102449.SAFE',
# '2018_04_16', '2018_08_31',
#  'S2B_MSIL1C_20180630T081559_N0206_R121_T38ULB_20180630T120832.SAFE',
# '2018_05_18',
# 'S2B_MSIL1C_20180627T080609_N0206_R078_T38ULA_20180627T102339.zip',
#  'S2B_MSIL1C_20180710T081559_N0206_R121_T38ULB_20180710T103406.zip',
#  '2018_08_14',
#  'S2B_MSIL1C_20180819T081559_N0206_R121_T38ULB_20180819T103710.SAFE',
#  '2018_08_24',
#  'S2B_MSIL1C_20180918T081559_N0206_R121_T38ULA_20180918T122120.zip',
# 'S2B_MSIL1C_20180829T081959_N0206_R121_T38ULA_20180829T141051.zip',
# 'S2B_MSIL1C_20180819T081559_N0206_R121_T38ULA_20180819T103710.SAFE',
#  '2018_10_15',
# 'S2B_MSIL1C_20180816T080559_N0206_R078_T38ULB_20180816T103223.SAFE',
# '2018_10_08',
# 'S2B_MSIL1C_20180928T081709_N0206_R121_T38ULA_20180928T120535.SAFE',
#  '2018_06_22',
# 'S2B_MSIL1C_20180905T080559_N0206_R078_T38ULB_20180905T102531.zip',
# '2018_09_10',
#  'S2B_MSIL1C_20180707T080609_N0206_R078_T38ULB_20180707T102326.SAFE',
# 'S2B_MSIL1C_20180816T080559_N0206_R078_T38ULA_20180816T103223.SAFE',
# 'S2B_MSIL1C_20181015T080909_N0206_R078_T38ULA_20181015T102153.zip',
#  '2018_08_11',
#  'S2B_MSIL1C_20181015T080909_N0206_R078_T38ULB_20181015T102153.zip',
# 'S2B_MSIL1C_20180918T081559_N0206_R121_T38ULB_20180918T122120.SAFE',
# 'S2B_MSIL1C_20180707T080609_N0206_R078_T38ULA_20180707T102326.zip',
# '2018_08_16', '2018_06_02',
#  'S2B_MSIL1C_20180617T080609_N0206_R078_T38ULB_20180617T102342.SAFE',
#  'S2A_MSIL1C_20180903T081601_N0206_R121_T38ULB_20180903T103522.zip',
# '2018_07_05',
#  'S2B_MSIL1C_20180630T081559_N0206_R121_T38ULA_20180630T120832.zip',
#  'S2B_MSIL1C_20180707T080609_N0206_R078_T38ULA_20180707T102326.SAFE',
#  'S2B_MSIL1C_20180928T081709_N0206_R121_T38ULA_20180928T120535.zip',
#  'S2B_MSIL1C_20180809T081559_N0206_R121_T38ULB_20180809T103528.SAFE', *
#  '2018_06_07',
#  'S2B_MSIL1C_20180806T080559_N0206_R078_T38ULB_20180806T104212.zip',
# 'S2B_MSIL1C_20180816T080559_N0206_R078_T38ULA_20180816T103223.zip',
# 'S2B_MSIL1C_20180905T080559_N0206_R078_T38ULA_20180905T102531.zip',
#  'S2B_MSIL1C_20180819T081559_N0206_R121_T38ULB_20180819T103710.zip',
# 'S2B_MSIL1C_20180829T081959_N0206_R121_T38ULB_20180829T141051.zip',
# '2018_10_10',
# 'S2B_MSIL1C_20180908T081559_N0206_R121_T38ULB_20180908T122110.zip',
# '2018_10_13',
# 'S2B_MSIL1C_20180809T081559_N0206_R121_T38ULA_20180809T103528.SAFE',
#  '2018_08_21',
# 'S2B_MSIL1C_20180806T080559_N0206_R078_T38ULA_20180806T104212.zip',
# '2018_06_27',
# 'S2A_MSIL1C_20180903T081601_N0206_R121_T38ULB_20180903T103522.SAFE',
#  'S2B_MSIL1C_20180617T080609_N0206_R078_T38ULA_20180617T102342.zip',
# '2018_09_08',
# 'S2B_MSIL1C_20180908T081559_N0206_R121_T38ULA_20180908T122110.zip',
# '2018_08_19', '2018_07_02', '2018_08_29', '2018_07_10', '2018_06_30',
# 'S2B_MSIL1C_20180617T080609_N0206_R078_T38ULA_20180617T102342.SAFE',
# 'S2B_MSIL1C_20180607T080609_N0206_R078_T38ULB_20180607T102248.SAFE',
# 'S2B_MSIL1C_20180627T080609_N0206_R078_T38ULA_20180627T102339.SAFE',
#  'S2B_MSIL1C_20180819T081559_N0206_R121_T38ULA_20180819T103710.zip',
# 'S2B_MSIL1C_20180826T080559_N0206_R078_T38ULB_20180826T103705.zip',
# '2018_06_05',
# 'S2B_MSIL1C_20180607T080609_N0206_R078_T38ULA_20180607T102248.SAFE',
#  'S2A_MSIL1C_20180811T080611_N0206_R078_T38ULA_20180811T103645.zip',
# 'S2B_MSIL1C_20180829T081959_N0206_R121_T38ULB_20180829T141051.SAFE',
# 'S2B_MSIL1C_20180908T081559_N0206_R121_T38ULA_20180908T122110.SAFE',
# '2018_09_18', '2018_09_30',
# 'S2B_MSIL1C_20180421T081559_N0206_R121_T38ULA_20180421T102449.zip',
# 'S2B_MSIL1C_20180518T080609_N0206_R078_T38ULA_20180518T111754.zip',
# 'S2B_MSIL1C_20180710T081559_N0206_R121_T38ULA_20180710T103406.SAFE',
# '2018_08_09',
#  'S2B_MSIL1C_20180707T080609_N0206_R078_T38ULB_20180707T102326.zip',
# 'S2B_MSIL1C_20180710T081559_N0206_R121_T38ULB_20180710T103406.SAFE',
#  'S2B_MSIL1C_20180816T080559_N0206_R078_T38ULB_20180816T103223.zip',
#  'S2B_MSIL1C_20180630T081559_N0206_R121_T38ULA_20180630T120832.SAFE',
# '2018_04_21',
# 'S2B_MSIL1C_20180421T081559_N0206_R121_T38ULA_20180421T102449.SAFE',
#  'S2B_MSIL1C_20180918T081559_N0206_R121_T38ULA_20180918T122120.SAFE',
# 'S2B_MSIL1C_20180806T080559_N0206_R078_T38ULA_20180806T104212.SAFE',
#  'S2B_MSIL1C_20180806T080559_N0206_R078_T38ULB_20180806T104212.SAFE',
# 'S2B_MSIL1C_20180905T080559_N0206_R078_T38ULA_20180905T102531.SAFE',
# '2018_09_28', '2018_09_13', '2018_09_23', '2018_08_06', '2018_09_03',
# 'S2B_MSIL1C_20180421T081559_N0206_R121_T38ULB_20180421T102449.zip']

